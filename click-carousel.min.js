//---------------------------------------------------------------------
//Click Carousel
//Date: September 20, 2010
//File: click-carousel.min.js
//Author: Joseph McCullough - @Joe_Query - http://www.vertstudios.com/
//Purpose: An infinite carousel with an optional retraction effect.
//---------------------------------------------------------------------

function isset(a){if((typeof a=='undefined')||(a===null)||(a==="")){return false;}else{return true;}}

(function(h){h.fn.arrayShift=function(a,b){var c=h.makeArray(h(this));for(var i=0;i<arguments.length;i++){if(isNaN(arguments[i])){if(arguments[i]=="first"){arguments[i]=0;}else if(arguments[i]=="last"){arguments[i]=c.length-1;}}else{arguments[i]=parseInt(arguments[i],10);}}var d=c[a];if(a>b){for(i=a;i>b;i--){c[i]=c[i-1];}c[b]=d;}else if(a<b){for(i=a;i<b;i++){c[i]=c[i+1];}c[b]=d;}return h(c);};h.fn.getIndexOf=function(a){var b=false;var c=h(this);var i=0;h(a).each(function(){if(h(this).equalTo(h(c))){b=i;}i++;});return b;};h.fn.equalTo=function(a){isEqual=!h(this).not(h(a)).length;return isEqual;};h.fn.selectIndex=function(a){};h.fn.fakeFloat=function(a,b){var c={direction:"left",margin:0,offset:0,speed:0},settings=h.extend(c,h.fn.fakeFloat.defaults,a);var i=0;var d=0;h(this).each(function(){d=h(this).width();if(settings.direction=="left"){h(this).animate({"left":((settings.margin)+d)*i+(settings.offset)+'px'},settings.speed);}else{h(this).animate({"right":((settings.margin)+d)*i+(settings.offset)+'px'},settings.speed);}i++;});if(typeof b=='function'){setTimeout(function(){b.call(this);},settings.speed);}return this;};h.fn.clickCarousel=function(c){var d=h(this);if(typeof d.animating=='undefined'){d.animating=false;}var e={direction:"left",margin:0,hideSpeed:500,shiftSpeed:500,clicker:h(this).children(),shifting:h(this).children(),shiftOnly:false,left:h("#carouselLeft"),right:h("#carouselRight")},settings=h.extend({},e,c);h.fn.fakeFloat.defaults={margin:settings.margin,direction:settings.direction};h(settings.shifting).fakeFloat();var f=h(settings.clicker).equalTo(settings.shifting);if(settings.shiftOnly===false){h(settings.clicker).click(function(){var a=h(this);var b;if(f){b=h(a).getIndexOf(settings.shifting);}else{b=h(a).parentsUntil(settings.shifting).getIndexOf(settings.shifting);a=settings.shifting[b];}if(d.animating===false){d.animating=true;h(a).slideUp(settings.hideSpeed,function(){settings.shifting=settings.shifting.arrayShift(b,"last");settings.clicker=settings.clicker.arrayShift(b,"last");h(settings.shifting).fakeFloat({speed:settings.shiftSpeed});h(a).show(0,function(){d.animating=false;});});}});}var g={};g.firstToLast=function(){g.shiftingElement=settings.shifting[0];g.index="first";g.newLocation="last";};g.lastToFirst=function(){g.shiftingElement=settings.shifting[settings.shifting.length-1];g.index="last";g.newLocation="first";};g.getIndexes=function(a){if(a==="left"){if(settings.direction==="left"){g.firstToLast();}else if(settings.direction==="right"){g.lastToFirst();}}else if(a==="right"){if(settings.direction==="left"){g.lastToFirst();}else if(settings.direction==="right"){g.firstToLast();}}};g.scroll=function(){d.animating=true;h(g.shiftingElement).hide();settings.shifting=settings.shifting.arrayShift(g.index,g.newLocation);h(settings.shifting).fakeFloat({speed:settings.shiftSpeed},function(){h(g.shiftingElement).show();d.animating=false;});};if(isset(settings.left)){h(settings.left).click(function(){if(d.animating===false){g.getIndexes("left");g.scroll();}});}if(isset(settings.right)){h(settings.right).click(function(){if(d.animating===false){g.getIndexes("right");g.scroll();}});}};h.fn.frontpush=function(a){var b=h(this).length;var c=h.makeArray(h(this));for(var i=0;i<b;i++){a.push("");}for(i=(a.length);i>b;i--){var j=i-1;a[j]=a[j-b];}for(i=0;i<b;i++){a[i]=c[i];}return h(a);};})(jQuery);